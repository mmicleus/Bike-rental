{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../shared/data.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"./booking/booking.component\";\nimport * as i5 from \"./checkout-form/checkout-form.component\";\nfunction ConfirmationComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h1\");\n    i0.ɵɵtext(2, \"Confirm your bookings\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 2)(4, \"p\");\n    i0.ɵɵtext(5, \"You have nothing in your cart.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function ConfirmationComponent_div_0_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.browseInventory());\n    });\n    i0.ɵɵtext(7, \" BROWSE INVENTORY \");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction ConfirmationComponent_ng_template_1_app_booking_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-booking\", 7);\n  }\n  if (rf & 2) {\n    const booking_r6 = ctx.$implicit;\n    const i_r7 = ctx.index;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"booking\", booking_r6)(\"isLast\", i_r7 === ctx_r5.bookings.length - 1)(\"index\", i_r7);\n  }\n}\nfunction ConfirmationComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\");\n    i0.ɵɵtext(1, \"Confirm your bookings\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"div\", 4)(3, \"div\");\n    i0.ɵɵtemplate(4, ConfirmationComponent_ng_template_1_app_booking_4_Template, 1, 3, \"app-booking\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\")(6, \"app-checkout-form\");\n    i0.ɵɵelement(7, \"br\");\n    i0.ɵɵelementStart(8, \"div\")(9, \"p\", 6)(10, \"span\");\n    i0.ɵɵtext(11, \"Subtotal:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"span\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"p\", 6)(15, \"span\");\n    i0.ɵɵtext(16, \"Item Discount:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"span\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"p\", 6)(20, \"span\");\n    i0.ɵɵtext(21, \"Total\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"span\");\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(24, \"br\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.bookings);\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate1(\"\\u20AC\", ctx_r2.getSubtotal().toFixed(2), \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\\u20AC\", 0, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\\u20AC\", ctx_r2.getSubtotal().toFixed(2), \"\");\n  }\n}\nlet ConfirmationComponent = /*#__PURE__*/(() => {\n  class ConfirmationComponent {\n    constructor(dataService, router) {\n      this.dataService = dataService;\n      this.router = router;\n      this.bookings = [];\n    }\n    ngOnInit() {\n      this.bookings = this.dataService.getBookings();\n      this.dataService.bookingChanged.subscribe(bookings => {\n        this.bookings = bookings;\n      });\n    }\n    browseInventory() {\n      this.router.navigate(['/']);\n    }\n    getSubtotal() {\n      let sum = 0;\n      this.bookings.forEach(booking => {\n        sum += booking.cost;\n      });\n      return sum;\n    }\n  }\n  ConfirmationComponent.ɵfac = function ConfirmationComponent_Factory(t) {\n    return new (t || ConfirmationComponent)(i0.ɵɵdirectiveInject(i1.DataService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  ConfirmationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ConfirmationComponent,\n    selectors: [[\"app-confirmation\"]],\n    decls: 3,\n    vars: 2,\n    consts: [[4, \"ngIf\", \"ngIfElse\"], [\"main\", \"\"], [1, \"message\"], [1, \"gray-banner\", 3, \"click\"], [1, \"flex-container\", \"justify-content-between\"], [3, \"booking\", \"isLast\", \"index\", 4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"justify-content-between\", \"rw\", \"fw-bold\"], [3, \"booking\", \"isLast\", \"index\"]],\n    template: function ConfirmationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ConfirmationComponent_div_0_Template, 8, 0, \"div\", 0);\n        i0.ɵɵtemplate(1, ConfirmationComponent_ng_template_1_Template, 25, 4, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.bookings.length === 0)(\"ngIfElse\", _r1);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i4.BookingComponent, i5.CheckoutFormComponent],\n    styles: [\"h1[_ngcontent-%COMP%]{text-align:center;font-weight:700;margin-bottom:8rem}.message[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;column-gap:2rem}.rw[_ngcontent-%COMP%]{width:75%;margin-left:auto}.flex-container[_ngcontent-%COMP%]{display:flex;row-gap:3rem}@media screen and (max-width:900px){.flex-container[_ngcontent-%COMP%]{flex-direction:column}}\"]\n  });\n  return ConfirmationComponent;\n})();\nexport { ConfirmationComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}